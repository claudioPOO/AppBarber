{"ast":null,"code":"var _class;\nimport { BarbersService } from '../barbers/barbers.service';\nimport { TurnoService } from './turno.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../barbers/barbers.service\";\nimport * as i3 from \"./turno.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../sidebar/sidebar.component\";\nfunction VerTurnosComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\")(2, \"p\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function VerTurnosComponent_div_2_div_3_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const turno_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.cancelarTurno(turno_r4.id_turno));\n    });\n    i0.ɵɵtext(9, \"Cancelar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const turno_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Barbero: \", turno_r4.nombre_barbero, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Hora: \", turno_r4.hora, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Dia: \", turno_r4.dia, \"\");\n  }\n}\nfunction VerTurnosComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"p\", 4);\n    i0.ɵɵtext(2, \"Turnos asignados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, VerTurnosComponent_div_2_div_3_Template, 10, 3, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.turnosCliente);\n  }\n}\nconst _c0 = function () {\n  return [\"/solicitarTurno\"];\n};\nfunction VerTurnosComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\", 10);\n    i0.ɵɵtext(2, \"No se encontraron turnos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 11);\n    i0.ɵɵtext(4, \"Solicitar Turno \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nexport class VerTurnosComponent {\n  constructor(route, router, barberService, turnoService) {\n    this.route = route;\n    this.router = router;\n    this.barberService = barberService;\n    this.turnoService = turnoService;\n    this.clienteId = 0;\n    this.turnos = [];\n    this.barberos = [];\n    this.turnosCliente = [];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.clienteId = parseInt(params['idcliente']); // Obtiene el valor del parametro id cliente\n    });\n\n    this.mostrar();\n  }\n  mostrar() {\n    this.barberos = this.barberService.getBarbers(), this.turnos = this.turnoService.getTurnos();\n    console.log(this.turnos);\n    console.log(this.clienteId);\n    this.turnos.forEach(turno => {\n      if (turno.id_cliente == this.clienteId) {\n        this.barberos.forEach(barbero => {\n          if (turno.id_barbero === barbero.id) {\n            const nuevoTurno = {\n              id_turno: turno.id_turno,\n              nombre_barbero: barbero.nombre + ' ' + barbero.apellido,\n              hora: turno.hora,\n              dia: turno.dia\n            };\n            this.turnosCliente.push(nuevoTurno);\n          }\n        });\n      }\n    });\n  }\n  cancelarTurno(id) {\n    this.turnoService.deleteTurno(id);\n    let currentUrl = this.router.url;\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n    this.router.onSameUrlNavigation = 'reload';\n    this.router.navigate([currentUrl]);\n  }\n}\n_class = VerTurnosComponent;\n_class.ɵfac = function VerTurnosComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BarbersService), i0.ɵɵdirectiveInject(i3.TurnoService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"verTurnos\"]],\n  features: [i0.ɵɵProvidersFeature([BarbersService, TurnoService])],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"w-full\", \"h-screen\", \"bg-gray-200\", \"flex\"], [\"class\", \"flex flex-col mx-6 mt-2 h-screen w-full flex-wrap\", 4, \"ngIf\", \"ngIfElse\"], [\"solicitarTurno\", \"\"], [1, \"flex\", \"flex-col\", \"mx-6\", \"mt-2\", \"h-screen\", \"w-full\", \"flex-wrap\"], [1, \"text-center\", \"font-serif\", \"text-cyan-800\", \"text-2xl\", \"border-b\", \"border-black\"], [\"class\", \"flex flex-col gap-x-2 w-1/4 flex-wrap mt-4 p-4 rounded-lg bg-slate-100\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-col\", \"gap-x-2\", \"w-1/4\", \"flex-wrap\", \"mt-4\", \"p-4\", \"rounded-lg\", \"bg-slate-100\"], [1, \"text-cyan-800\", \"text-xl\", \"font-serif\"], [1, \"self-center\", \"mt-2\", \"text-gray-200\", \"rounded-full\", \"p-2\", \"bg-cyan-600\", \"hover:bg-cyan-800\", 3, \"click\"], [1, \"flex\", \"flex-col\", \"ml-4\", \"mt-2\", \"gap-y-4\"], [1, \"text-center\", \"font-serif\", \"text-cyan-800\", \"text-2xl\", \"w-fit\", \"h-fit\", \"border-b\", \"border-black\"], [1, \"self-center\", \"mt-2\", \"text-gray-200\", \"rounded-full\", \"p-2\", \"bg-cyan-600\", \"hover:bg-cyan-800\", \"cursor-pointer\", 3, \"routerLink\"]],\n  template: function VerTurnosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"sidebar\");\n      i0.ɵɵtemplate(2, VerTurnosComponent_div_2_Template, 4, 1, \"div\", 1);\n      i0.ɵɵtemplate(3, VerTurnosComponent_ng_template_3_Template, 5, 2, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.turnosCliente.length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i1.RouterLink, i5.SidebarComponent],\n  encapsulation: 2\n});","map":{"version":3,"names":["BarbersService","TurnoService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","VerTurnosComponent_div_2_div_3_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r6","turno_r4","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","cancelarTurno","id_turno","ɵɵadvance","ɵɵtextInterpolate1","nombre_barbero","hora","dia","ɵɵtemplate","VerTurnosComponent_div_2_div_3_Template","ɵɵproperty","ctx_r0","turnosCliente","ɵɵpureFunction0","_c0","VerTurnosComponent","constructor","route","router","barberService","turnoService","clienteId","turnos","barberos","ngOnInit","params","subscribe","parseInt","mostrar","getBarbers","getTurnos","console","log","forEach","turno","id_cliente","barbero","id_barbero","id","nuevoTurno","nombre","apellido","push","deleteTurno","currentUrl","url","routeReuseStrategy","shouldReuseRoute","onSameUrlNavigation","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","i3","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","VerTurnosComponent_Template","rf","ctx","ɵɵelement","VerTurnosComponent_div_2_Template","VerTurnosComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","length","_r1"],"sources":["C:\\Users\\Claudio S\\Desktop\\Angular\\AppBarberia\\src\\app\\Turn\\verTurnos.component.ts","C:\\Users\\Claudio S\\Desktop\\Angular\\AppBarberia\\src\\app\\Turn\\verTurnos.html"],"sourcesContent":["import { ActivatedRoute, Router } from '@angular/router';\r\nimport { Component } from '@angular/core';\r\nimport { BarbersService } from '../barbers/barbers.service';\r\nimport { TurnoService } from './turno.service';\r\n\r\n@Component({\r\n  selector: 'verTurnos',\r\n  templateUrl: './verTurnos.html',\r\n  providers: [BarbersService, TurnoService],\r\n})\r\nexport class VerTurnosComponent {\r\n  public clienteId: number = 0;\r\n  public turnos: Array<any> = [];\r\n  public barberos: Array<any> = [];\r\n  public turnosCliente: Array<any> = [];\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private barberService: BarbersService,\r\n    private turnoService: TurnoService\r\n  ) {}\r\n  ngOnInit() {\r\n    this.route.params.subscribe((params) => {\r\n      this.clienteId = parseInt(params['idcliente']); // Obtiene el valor del parametro id cliente\r\n    });\r\n    this.mostrar();\r\n  }\r\n  mostrar() {\r\n    (this.barberos = this.barberService.getBarbers()),\r\n      (this.turnos = this.turnoService.getTurnos());\r\n    console.log(this.turnos);\r\n    console.log(this.clienteId);\r\n\r\n    this.turnos.forEach((turno) => {\r\n      if (turno.id_cliente == this.clienteId) {\r\n        this.barberos.forEach((barbero) => {\r\n          if (turno.id_barbero === barbero.id) {\r\n            const nuevoTurno = {\r\n              id_turno: turno.id_turno,\r\n              nombre_barbero: barbero.nombre + ' ' + barbero.apellido,\r\n              hora: turno.hora,\r\n              dia: turno.dia,\r\n            };\r\n            this.turnosCliente.push(nuevoTurno);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  cancelarTurno(id: number) {\r\n    this.turnoService.deleteTurno(id);\r\n    let currentUrl = this.router.url;\r\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\r\n    this.router.onSameUrlNavigation = 'reload';\r\n    this.router.navigate([currentUrl]);\r\n  }\r\n}\r\n","<div class=\"w-full h-screen bg-gray-200 flex\">\r\n    <sidebar></sidebar>\r\n    <div class=\"flex flex-col mx-6 mt-2 h-screen w-full flex-wrap\"*ngIf=\"turnosCliente.length>0;else solicitarTurno\">\r\n        <p class=\"text-center font-serif text-cyan-800 text-2xl border-b border-black \">Turnos asignados</p>\r\n        <div class=\"flex flex-col gap-x-2 w-1/4 flex-wrap mt-4 p-4 rounded-lg bg-slate-100\" *ngFor=\"let turno of turnosCliente\">\r\n            <div >\r\n                <p class=\"text-cyan-800 text-xl font-serif\">Barbero: {{turno.nombre_barbero}}</p>\r\n                <p class=\"text-cyan-800 text-xl font-serif\">Hora: {{turno.hora}}</p>\r\n                <p class=\"text-cyan-800 text-xl font-serif\">Dia: {{turno.dia}}</p>\r\n            </div>\r\n            <button  class=\"self-center mt-2 text-gray-200 rounded-full p-2 bg-cyan-600 hover:bg-cyan-800\" (click)=\"cancelarTurno(turno.id_turno)\">Cancelar</button>\r\n        </div>\r\n    </div>\r\n    <ng-template #solicitarTurno>\r\n        <div class=\"flex flex-col ml-4 mt-2 gap-y-4\">\r\n            <p class=\"text-center font-serif text-cyan-800 text-2xl w-fit h-fit border-b border-black \">No se encontraron turnos</p>\r\n            <a class=\"self-center mt-2 text-gray-200 rounded-full p-2 bg-cyan-600 hover:bg-cyan-800 cursor-pointer\" [routerLink]=\"['/solicitarTurno']\">Solicitar Turno </a>\r\n\r\n        </div>\r\n    </ng-template>   \r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}